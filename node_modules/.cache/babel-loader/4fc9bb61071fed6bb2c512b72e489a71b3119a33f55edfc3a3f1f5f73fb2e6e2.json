{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import{useWishlist}from\"../../context/wishlist-context\";import{findHotelInWishlist}from\"../../utils/find-hotel-in-wishlist\";import{useAuth}from\"../../context/auth-context\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const HotelCard=_ref=>{let{hotel}=_ref;const{_id,name,image,address,state,rating,price}=hotel;const navigate=useNavigate();const{wishlistDispatch,wishlist}=useWishlist();const{accessToken,authDispatch}=useAuth();const handleHotelCardClick=()=>{navigate(\"/hotels/\".concat(name,\"/\").concat(address,\"-\").concat(state,\"/\").concat(_id,\"/reserve\"));};const isHotelInWishlist=findHotelInWishlist(wishlist,_id);const handleWishlistClick=e=>{e.stopPropagation();// Prevent triggering the hotel card click event\nif(accessToken){if(!isHotelInWishlist){wishlistDispatch({type:\"ADD_TO_WISHLIST\",payload:hotel});navigate(\"/wishlist\");}else{wishlistDispatch({type:\"REMOVE_FROM_WISHLIST\",payload:_id});}}else{authDispatch({type:\"SHOW_AUTH_MODAL\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-xs rounded-lg shadow-lg transition-transform duration-200 transform hover:scale-105 bg-background h-[400px]\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:handleHotelCardClick,children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-60 object-cover rounded-t-lg\",src:image,alt:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-between h-full p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-base\",children:[address,\", \",state]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons-outlined text-yellow-500 text-base\",children:\"star\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:rating})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-normal py-1 truncate\",children:name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"Rs. \",price]}),\" per night\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md focus:outline-none\",onClick:handleWishlistClick,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons favorite cursor-pointer \".concat(isHotelInWishlist?\"text-red-600\":\"text-gray-400\"),\"aria-label\":isHotelInWishlist?\"Remove from wishlist\":\"Add to wishlist\",children:\"favorite\"})})]});};","map":{"version":3,"names":["useNavigate","useWishlist","findHotelInWishlist","useAuth","jsx","_jsx","jsxs","_jsxs","HotelCard","_ref","hotel","_id","name","image","address","state","rating","price","navigate","wishlistDispatch","wishlist","accessToken","authDispatch","handleHotelCardClick","concat","isHotelInWishlist","handleWishlistClick","e","stopPropagation","type","payload","className","children","onClick","src","alt"],"sources":["D:/travelappfrontend/src/components/HotelCard/HotelCard.jsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport { useWishlist } from \"../../context/wishlist-context\";\r\nimport { findHotelInWishlist } from \"../../utils/find-hotel-in-wishlist\";\r\nimport { useAuth } from \"../../context/auth-context\";\r\n\r\nexport const HotelCard = ({ hotel }) => {\r\n    const { _id, name, image, address, state, rating, price } = hotel;\r\n    const navigate = useNavigate();\r\n    const { wishlistDispatch, wishlist } = useWishlist();\r\n    const { accessToken, authDispatch } = useAuth();\r\n\r\n    const handleHotelCardClick = () => {\r\n        navigate(`/hotels/${name}/${address}-${state}/${_id}/reserve`);\r\n    };\r\n\r\n    const isHotelInWishlist = findHotelInWishlist(wishlist, _id);\r\n\r\n    const handleWishlistClick = (e) => {\r\n        e.stopPropagation(); // Prevent triggering the hotel card click event\r\n        if (accessToken) {\r\n            if (!isHotelInWishlist) {\r\n                wishlistDispatch({\r\n                    type: \"ADD_TO_WISHLIST\",\r\n                    payload: hotel,\r\n                });\r\n                navigate(\"/wishlist\");\r\n            } else {\r\n                wishlistDispatch({\r\n                    type: \"REMOVE_FROM_WISHLIST\",\r\n                    payload: _id,\r\n                });\r\n            }\r\n        } else {\r\n            authDispatch({\r\n                type: \"SHOW_AUTH_MODAL\",\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative max-w-xs rounded-lg shadow-lg transition-transform duration-200 transform hover:scale-105 bg-background h-[400px]\">\r\n            <div onClick={handleHotelCardClick}>\r\n                <img className=\"w-full h-60 object-cover rounded-t-lg\" src={image} alt={name} />\r\n                <div className=\"flex flex-col justify-between h-full p-4\">\r\n                    <div>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <span className=\"font-bold text-base\">{address}, {state}</span>\r\n                            <span className=\"flex items-center\">\r\n                                <span className=\"material-icons-outlined text-yellow-500 text-base\">star</span>\r\n                                <span className=\"ml-1\">{rating}</span>\r\n                            </span>\r\n                        </div>\r\n                        <p className=\"text-sm font-normal py-1 truncate\">{name}</p>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-700 mt-2\">\r\n                        <span className=\"font-bold\">Rs. {price}</span> per night\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <button\r\n                className=\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md focus:outline-none\"\r\n                onClick={handleWishlistClick}\r\n            >\r\n                <span\r\n                    className={`material-icons favorite cursor-pointer ${isHotelInWishlist ? \"text-red-600\" : \"text-gray-400\"}`}\r\n                    aria-label={isHotelInWishlist ? \"Remove from wishlist\" : \"Add to wishlist\"}\r\n                >\r\n                    favorite\r\n                </span>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}