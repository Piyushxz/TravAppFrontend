{"ast":null,"code":"import\"./Auth.css\";import{validateNumber}from\"../../utils/number-regex\";import{validatePassword}from\"../../utils/password-regex\";import{useAuth}from\"../../context/auth-context\";import{loginHandler}from\"../../services/login-service\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let isPassValid,isNumberValid;export const AuthLogin=()=>{const{authDispatch,password,number}=useAuth();const handleNumberChange=e=>{isNumberValid=validateNumber(e.target.value);if(isNumberValid){authDispatch({type:\"NUMBER\",payload:e.target.value});}else{console.log(\"Invalid Number\");}};console.log({number,password});const handlePasswordChange=e=>{isPassValid=validatePassword(e.target.value);if(isPassValid){authDispatch({type:\"PASSWORD\",payload:e.target.value});}else{console.log(\"Invalid Password\");}};console.log({number,password});const handleFormSubmit=async e=>{e.preventDefault();if(isNumberValid&&isPassValid){const{accessToken,username}=await loginHandler(number,password);authDispatch({type:\"SET_ACCESS_TOKEN\",payload:accessToken});authDispatch({type:\"SET_USER_NAME\",payload:username});}authDispatch({type:\"CLEAR_USER_DATA\"});authDispatch({type:\"SHOW_AUTH_MODAL\"});};const handleTestCredentialsClick=async()=>{const{accessToken,username}=await loginHandler(9112310888,\"Piyush@12\");authDispatch({type:\"SET_ACCESS_TOKEN\",payload:accessToken});authDispatch({type:\"SET_USER_NAME\",payload:username});authDispatch({type:\"CLEAR_USER_DATA\"});authDispatch({type:\"SHOW_AUTH_MODAL\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex direction-column lb-in-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"auth-label\",htmlFor:\"mobile-number\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"input\",{id:\"mobile-number\",type:\"number\",maxLength:\"10\",className:\"auth-input\",placeholder:\"Enter Mobile Number\",required:true,onChange:handleNumberChange,defaultValue:number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex direction-column lb-in-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"auth-label\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",className:\"auth-input\",placeholder:\"Enter Password\",type:\"password\",required:true,onChange:handlePasswordChange,defaultValue:password})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button btn-primary btn-login cursor-pointer\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"cta\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleTestCredentialsClick,type:\"button\",className:\"button btn-outline-primary btn-login cursor-pointer\",children:\"Login with test credentials\"})})]})});};","map":{"version":3,"names":["validateNumber","validatePassword","useAuth","loginHandler","jsx","_jsx","jsxs","_jsxs","isPassValid","isNumberValid","AuthLogin","authDispatch","password","number","handleNumberChange","e","target","value","type","payload","console","log","handlePasswordChange","handleFormSubmit","preventDefault","accessToken","username","handleTestCredentialsClick","className","children","onSubmit","htmlFor","id","maxLength","placeholder","required","onChange","defaultValue","onClick"],"sources":["D:/travelappfrontend/src/components/Auth/AuthLogin.jsx"],"sourcesContent":["import \"./Auth.css\"\r\nimport { validateNumber } from \"../../utils/number-regex\"\r\nimport { validatePassword } from \"../../utils/password-regex\"\r\nimport { useAuth } from \"../../context/auth-context\";\r\nimport { loginHandler } from \"../../services/login-service\";\r\n\r\nlet isPassValid,isNumberValid;\r\n\r\n\r\nexport const AuthLogin = () =>{\r\n\r\n    const {authDispatch,password,number} = useAuth()\r\n\r\n    const handleNumberChange = (e) =>{\r\n        isNumberValid = validateNumber(e.target.value)\r\n       if (isNumberValid){\r\n           authDispatch({\r\n               type:\"NUMBER\",\r\n               payload:e.target.value\r\n           })\r\n       }\r\n       else{\r\n           console.log(\"Invalid Number\")\r\n       }\r\n    }\r\n        console.log({number,password})\r\n       const handlePasswordChange = (e) =>{\r\n        isPassValid = validatePassword(e.target.value)\r\n       if(isPassValid){\r\n           authDispatch({\r\n               type:\"PASSWORD\",\r\n               payload:e.target.value\r\n           })\r\n       }\r\n       else{\r\n           console.log(\"Invalid Password\")\r\n       }\r\n    }\r\n    console.log({number,password})\r\n\r\n\r\n    const handleFormSubmit = async (e) =>{\r\n        e.preventDefault()\r\n        if(isNumberValid && isPassValid){\r\n           const {accessToken,username} =  await loginHandler(number,password)\r\n           authDispatch({\r\n            type:\"SET_ACCESS_TOKEN\",\r\n            payload:accessToken\r\n           })\r\n           authDispatch({\r\n            type:\"SET_USER_NAME\",\r\n            payload:username\r\n           })\r\n\r\n        }\r\n\r\n        authDispatch({\r\n            type:\"CLEAR_USER_DATA\",\r\n        })\r\n        authDispatch({\r\n            type:\"SHOW_AUTH_MODAL\"\r\n        })\r\n    }\r\n\r\n    const handleTestCredentialsClick = async()=>{\r\n        const {accessToken,username} = await loginHandler(9112310888,\"Piyush@12\");\r\n        authDispatch({\r\n            type:\"SET_ACCESS_TOKEN\",\r\n            payload:accessToken\r\n           })\r\n           authDispatch({\r\n            type:\"SET_USER_NAME\",\r\n            payload:username\r\n           })\r\n           authDispatch({\r\n            type:\"CLEAR_USER_DATA\",\r\n        })\r\n        authDispatch({\r\n            type:\"SHOW_AUTH_MODAL\"\r\n        })\r\n    }\r\n    return(\r\n<div className=\"auth-container\">\r\n    <form onSubmit={handleFormSubmit}>\r\n        <div className=\"d-flex direction-column lb-in-container\">\r\n            <label className=\"auth-label\" htmlFor=\"mobile-number\">Mobile Number</label>\r\n            <input \r\n                id=\"mobile-number\"\r\n                type=\"number\" \r\n                maxLength=\"10\" \r\n                className=\"auth-input\" \r\n                placeholder=\"Enter Mobile Number\" \r\n                required\r\n                onChange={handleNumberChange}\r\n                defaultValue={number}\r\n            />\r\n        </div>\r\n        <div className=\"d-flex direction-column lb-in-container\">\r\n            <label className=\"auth-label\" htmlFor=\"password\">Password</label>\r\n            <input \r\n                id=\"password\"\r\n                className=\"auth-input\" \r\n                placeholder=\"Enter Password\" \r\n                type=\"password\" \r\n                required\r\n                onChange={handlePasswordChange}\r\n                defaultValue={password}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button \r\n                type=\"submit\" \r\n                className=\"button btn-primary btn-login cursor-pointer\"\r\n            >\r\n                Login\r\n            </button>\r\n        </div>\r\n        <div className=\"cta\">\r\n            <button \r\n                onClick={handleTestCredentialsClick}\r\n                type=\"button\" \r\n                className=\"button btn-outline-primary btn-login cursor-pointer\"\r\n            >\r\n                Login with test credentials\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n    )\r\n}\r\n    "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}