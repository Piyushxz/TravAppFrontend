{"ast":null,"code":"var _jsxFileName = \"D:\\\\travelappfrontend\\\\src\\\\components\\\\Auth\\\\AuthLogin.jsx\",\n  _s = $RefreshSig$();\nimport \"./Auth.css\";\nimport { validateNumber } from \"../../utils/number-regex\";\nimport { validatePassword } from \"../../utils/password-regex\";\nimport { useAuth } from \"../../context/auth-context\";\nimport { loginHandler } from \"../../services/login-service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet isPassValid, isNumberValid;\nexport const AuthLogin = () => {\n  _s();\n  const {\n    authDispatch,\n    password,\n    number\n  } = useAuth();\n  const handleNumberChange = e => {\n    isNumberValid = validateNumber(e.target.value);\n    if (isNumberValid) {\n      authDispatch({\n        type: \"NUMBER\",\n        payload: e.target.value\n      });\n    } else {\n      console.log(\"Invalid Number\");\n    }\n  };\n  console.log({\n    number,\n    password\n  });\n  const handlePasswordChange = e => {\n    isPassValid = validatePassword(e.target.value);\n    if (isPassValid) {\n      authDispatch({\n        type: \"PASSWORD\",\n        payload: e.target.value\n      });\n    } else {\n      console.log(\"Invalid Password\");\n    }\n  };\n  console.log({\n    number,\n    password\n  });\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    if (isNumberValid && isPassValid) {\n      const {\n        accessToken,\n        username\n      } = await loginHandler(number, password);\n      authDispatch({\n        type: \"SET_ACCESS_TOKEN\",\n        payload: accessToken\n      });\n      authDispatch({\n        type: \"SET_USER_NAME\",\n        payload: username\n      });\n    }\n    authDispatch({\n      type: \"CLEAR_USER_DATA\"\n    });\n    authDispatch({\n      type: \"SHOW_AUTH_MODAL\"\n    });\n  };\n  const handleTestCredentialsClick = async () => {\n    const {\n      accessToken,\n      username\n    } = await loginHandler(number, password);\n    authDispatch({\n      type: \"SET_ACCESS_TOKEN\",\n      payload: accessToken\n    });\n    authDispatch({\n      type: \"SET_USER_NAME\",\n      payload: username\n    });\n    authDispatch({\n      type: \"CLEAR_USER_DATA\"\n    });\n    authDispatch({\n      type: \"SHOW_AUTH_MODAL\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex direction-column lb-in-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"auth-label\",\n          htmlFor: \"mobile-number\",\n          children: \"Mobile Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mobile-number\",\n          type: \"number\",\n          maxLength: \"10\",\n          className: \"auth-input\",\n          placeholder: \"Enter Mobile Number\",\n          required: true,\n          onChange: handleNumberChange,\n          defaultValue: number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex direction-column lb-in-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"auth-label\",\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          className: \"auth-input\",\n          placeholder: \"Enter Password\",\n          type: \"password\",\n          required: true,\n          onChange: handlePasswordChange,\n          defaultValue: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button btn-primary btn-login cursor-pointer\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cta\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleTestCredentialsClick,\n          type: \"button\",\n          className: \"button btn-outline-primary btn-login cursor-pointer\",\n          children: \"Login with test credentials\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 1\n  }, this);\n};\n_s(AuthLogin, \"8bpuVCpIHT8sfQx9ygQdHo8yznw=\", false, function () {\n  return [useAuth];\n});\n_c = AuthLogin;\nvar _c;\n$RefreshReg$(_c, \"AuthLogin\");","map":{"version":3,"names":["validateNumber","validatePassword","useAuth","loginHandler","jsxDEV","_jsxDEV","isPassValid","isNumberValid","AuthLogin","_s","authDispatch","password","number","handleNumberChange","e","target","value","type","payload","console","log","handlePasswordChange","handleFormSubmit","preventDefault","accessToken","username","handleTestCredentialsClick","className","children","onSubmit","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","maxLength","placeholder","required","onChange","defaultValue","onClick","_c","$RefreshReg$"],"sources":["D:/travelappfrontend/src/components/Auth/AuthLogin.jsx"],"sourcesContent":["import \"./Auth.css\"\r\nimport { validateNumber } from \"../../utils/number-regex\"\r\nimport { validatePassword } from \"../../utils/password-regex\"\r\nimport { useAuth } from \"../../context/auth-context\";\r\nimport { loginHandler } from \"../../services/login-service\";\r\n\r\nlet isPassValid,isNumberValid;\r\n\r\n\r\nexport const AuthLogin = () =>{\r\n\r\n    const {authDispatch,password,number} = useAuth()\r\n\r\n    const handleNumberChange = (e) =>{\r\n        isNumberValid = validateNumber(e.target.value)\r\n       if (isNumberValid){\r\n           authDispatch({\r\n               type:\"NUMBER\",\r\n               payload:e.target.value\r\n           })\r\n       }\r\n       else{\r\n           console.log(\"Invalid Number\")\r\n       }\r\n    }\r\n        console.log({number,password})\r\n       const handlePasswordChange = (e) =>{\r\n        isPassValid = validatePassword(e.target.value)\r\n       if(isPassValid){\r\n           authDispatch({\r\n               type:\"PASSWORD\",\r\n               payload:e.target.value\r\n           })\r\n       }\r\n       else{\r\n           console.log(\"Invalid Password\")\r\n       }\r\n    }\r\n    console.log({number,password})\r\n\r\n\r\n    const handleFormSubmit = async (e) =>{\r\n        e.preventDefault()\r\n        if(isNumberValid && isPassValid){\r\n           const {accessToken,username} =  await loginHandler(number,password)\r\n           authDispatch({\r\n            type:\"SET_ACCESS_TOKEN\",\r\n            payload:accessToken\r\n           })\r\n           authDispatch({\r\n            type:\"SET_USER_NAME\",\r\n            payload:username\r\n           })\r\n\r\n        }\r\n\r\n        authDispatch({\r\n            type:\"CLEAR_USER_DATA\",\r\n        })\r\n        authDispatch({\r\n            type:\"SHOW_AUTH_MODAL\"\r\n        })\r\n    }\r\n\r\n    const handleTestCredentialsClick = async()=>{\r\n        const {accessToken,username} = await loginHandler(number,password);\r\n        authDispatch({\r\n            type:\"SET_ACCESS_TOKEN\",\r\n            payload:accessToken\r\n           })\r\n           authDispatch({\r\n            type:\"SET_USER_NAME\",\r\n            payload:username\r\n           })\r\n           authDispatch({\r\n            type:\"CLEAR_USER_DATA\",\r\n        })\r\n        authDispatch({\r\n            type:\"SHOW_AUTH_MODAL\"\r\n        })\r\n    }\r\n    return(\r\n<div className=\"auth-container\">\r\n    <form onSubmit={handleFormSubmit}>\r\n        <div className=\"d-flex direction-column lb-in-container\">\r\n            <label className=\"auth-label\" htmlFor=\"mobile-number\">Mobile Number</label>\r\n            <input \r\n                id=\"mobile-number\"\r\n                type=\"number\" \r\n                maxLength=\"10\" \r\n                className=\"auth-input\" \r\n                placeholder=\"Enter Mobile Number\" \r\n                required\r\n                onChange={handleNumberChange}\r\n                defaultValue={number}\r\n            />\r\n        </div>\r\n        <div className=\"d-flex direction-column lb-in-container\">\r\n            <label className=\"auth-label\" htmlFor=\"password\">Password</label>\r\n            <input \r\n                id=\"password\"\r\n                className=\"auth-input\" \r\n                placeholder=\"Enter Password\" \r\n                type=\"password\" \r\n                required\r\n                onChange={handlePasswordChange}\r\n                defaultValue={password}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button \r\n                type=\"submit\" \r\n                className=\"button btn-primary btn-login cursor-pointer\"\r\n            >\r\n                Login\r\n            </button>\r\n        </div>\r\n        <div className=\"cta\">\r\n            <button \r\n                onClick={handleTestCredentialsClick}\r\n                type=\"button\" \r\n                className=\"button btn-outline-primary btn-login cursor-pointer\"\r\n            >\r\n                Login with test credentials\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n    )\r\n}\r\n    "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}