{"ast":null,"code":"import Navbar from\"../Navbar/Navbar\";import{useDate}from\"../../context/date-context\";import{useCategory}from\"../../context/category-context\";import{useState,useEffect}from\"react\";import{HotelCard}from\"../HotelCard/HotelCard\";import axios from\"axios\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const SearchResult=()=>{const{destination}=useDate();const{hotelCategory}=useCategory();const[hotels,setHotels]=useState([]);useEffect(()=>{(async()=>{try{const{data}=await axios.get(\"https://travelapp-backend-cdeh.onrender.com/api/hotels?category=\".concat(hotelCategory));setHotels(data);}catch(err){console.error(\"Error fetching hotels:\",err);}})();},[destination,hotelCategory]);// Added hotelCategory as dependency\nconst filteredSearchResults=hotels.filter(_ref=>{let{city,address,state}=_ref;return address.toLowerCase()===destination.toLowerCase()||city.toLowerCase()===destination.toLowerCase()||state.toLowerCase()===destination.toLowerCase();});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"section\",{className:\"main flex flex-wrap gap-4 p-4\",children:filteredSearchResults.length>0?filteredSearchResults.map(hotel=>/*#__PURE__*/_jsx(HotelCard,{hotel:hotel},hotel._id)):/*#__PURE__*/_jsx(\"h3\",{className:\"text-center w-full\",children:\"Not found\"})})]});};","map":{"version":3,"names":["Navbar","useDate","useCategory","useState","useEffect","HotelCard","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SearchResult","destination","hotelCategory","hotels","setHotels","data","get","concat","err","console","error","filteredSearchResults","filter","_ref","city","address","state","toLowerCase","children","className","length","map","hotel","_id"],"sources":["D:/travelappfrontend/src/components/SearchResults/SearchResults.jsx"],"sourcesContent":["import Navbar from \"../Navbar/Navbar\";\r\nimport { useDate } from \"../../context/date-context\";\r\nimport { useCategory } from \"../../context/category-context\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { HotelCard } from \"../HotelCard/HotelCard\";\r\nimport axios from \"axios\";\r\n\r\nexport const SearchResult = () => {\r\n    const { destination } = useDate();\r\n    const { hotelCategory } = useCategory();\r\n    const [hotels, setHotels] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get(\r\n                    `https://travelapp-backend-cdeh.onrender.com/api/hotels?category=${hotelCategory}`\r\n                );\r\n                setHotels(data);\r\n            } catch (err) {\r\n                console.error(\"Error fetching hotels:\", err);\r\n            }\r\n        })();\r\n    }, [destination, hotelCategory]); // Added hotelCategory as dependency\r\n\r\n    const filteredSearchResults = hotels.filter(\r\n        ({ city, address, state }) =>\r\n            address.toLowerCase() === destination.toLowerCase() ||\r\n            city.toLowerCase() === destination.toLowerCase() ||\r\n            state.toLowerCase() === destination.toLowerCase()\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <section className=\"main flex flex-wrap gap-4 p-4\">\r\n                {filteredSearchResults.length > 0 ? (\r\n                    filteredSearchResults.map(hotel => (\r\n                        <HotelCard key={hotel._id} hotel={hotel} />\r\n                    ))\r\n                ) : (\r\n                    <h3 className=\"text-center w-full\">Not found</h3>\r\n                )}\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,kBAAkB,CACrC,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,WAAW,KAAQ,gCAAgC,CAC5D,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,wBAAwB,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,MAAO,MAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAEC,WAAY,CAAC,CAAGb,OAAO,CAAC,CAAC,CACjC,KAAM,CAAEc,aAAc,CAAC,CAAGb,WAAW,CAAC,CAAC,CACvC,KAAM,CAACc,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ,CAAC,SAAY,CACT,GAAI,CACA,KAAM,CAAEc,IAAK,CAAC,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,oEAAAC,MAAA,CACuCL,aAAa,CACpF,CAAC,CACDE,SAAS,CAACC,IAAI,CAAC,CACnB,CAAE,MAAOG,GAAG,CAAE,CACVC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEF,GAAG,CAAC,CAChD,CACJ,CAAC,EAAE,CAAC,CACR,CAAC,CAAE,CAACP,WAAW,CAAEC,aAAa,CAAC,CAAC,CAAE;AAElC,KAAM,CAAAS,qBAAqB,CAAGR,MAAM,CAACS,MAAM,CACvCC,IAAA,MAAC,CAAEC,IAAI,CAAEC,OAAO,CAAEC,KAAM,CAAC,CAAAH,IAAA,OACrB,CAAAE,OAAO,CAACE,WAAW,CAAC,CAAC,GAAKhB,WAAW,CAACgB,WAAW,CAAC,CAAC,EACnDH,IAAI,CAACG,WAAW,CAAC,CAAC,GAAKhB,WAAW,CAACgB,WAAW,CAAC,CAAC,EAChDD,KAAK,CAACC,WAAW,CAAC,CAAC,GAAKhB,WAAW,CAACgB,WAAW,CAAC,CAAC,EACzD,CAAC,CAED,mBACIlB,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACIvB,IAAA,CAACR,MAAM,GAAE,CAAC,cACVQ,IAAA,YAASwB,SAAS,CAAC,+BAA+B,CAAAD,QAAA,CAC7CP,qBAAqB,CAACS,MAAM,CAAG,CAAC,CAC7BT,qBAAqB,CAACU,GAAG,CAACC,KAAK,eAC3B3B,IAAA,CAACH,SAAS,EAAiB8B,KAAK,CAAEA,KAAM,EAAxBA,KAAK,CAACC,GAAoB,CAC7C,CAAC,cAEF5B,IAAA,OAAIwB,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,WAAS,CAAI,CACnD,CACI,CAAC,EACZ,CAAC,CAEX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}